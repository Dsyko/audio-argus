<template name="home">
	{{#if userIsLoggedIn}}
		{{#momentum plugin='slide-height-fade' duration=250}}
			{{#if showWelcomeMessage}}
				<div class="col-xs-12">
					<div class=" welcome-panel panel panel-default">
						<div class="panel-heading text-center">
							You're In!
							<button class="pull-right" title="Close welcome message" data-action="hide-welcome-message"><i class="fa fa-times"></i></button>
						</div>
						<div class="panel-body">
							<h4 class="text-center welcome-message-section-heading">
								What is Audio Argus?
							</h4>
							Audio Argus is a intelligent group of smart microphones which monitor the health of any device which has a mechanical component. What’s the first thing a mechanic does when you bring them your car? They fire up the engine and listen to the way it sounds! The sounds a machine emits gives you a plethora of information about how well it’s working and what might be wrong with it. Audio Argus is your own personal machine learning mechanic in the Cloud, and it doesn't just work for cars, it works for any device with a mechanical component.
						</div>
					</div>
				</div>
			{{/if}}
		{{/momentum}}
	{{/if}}
	<div class="row-fluid">
		<div class="col-xs-6">
			Your Devices ({{alertCount}})
		</div>
		<div class="col-xs-6 text-right">
			<button class="btn btn-default btn-mini new-message-button" data-action="new-message"><i class="fa fa-plus"></i> Add Device</button>
		</div>
	</div>
	<div class="row-fluid">
		{{#momentum plugin='slide-height-fade' duration=250}}
			{{#each messages}}
				<div class="col-xs-12">
					<div class="message-container">
						<span class="message-name">
							{{name}}
						</span>
						<div class="message-edit-icons pull-right">
							<button data-action="edit-message"> <i class="entypo entypo-pencil"></i></button>
							<button data-action="delete-message"> <i class="entypo entypo-trash"></i></button>
						</div>
						<div class="message-time-left text-center">
							{{#momentum plugin='velocity-reverse' duration=250}}
								{{#if deviceHealthy}}
									<div>
										<div class="message-sent-icon">
											{{>argusicon}}
										</div>
											Device is Healthy!
									</div>
								{{else}}
									<div>
										<div class="message-sent-icon warning-icon">
											{{>argusicon}}
										</div>
										<div class="warning-text">
											Device Needs Maintenance!
										</div>

										<div class="message-reset text-center">
											<button class="btn btn-default btn-small" data-action="reset-device-status"><i class="entypo entypo-back-in-time"></i> Reset Device</button>
										</div>
									</div>
								{{/if}}
							{{/momentum}}
						</div>
					</div>
				</div>
			{{else}}
				<div class="col-xs-12 text-center">
					<div class="no-messages-text">
						You don't have any devices yet. Tap 'Add Device' at the top right to add one.
					</div>
				</div>
			{{/each}}
		{{/momentum}}
	</div>
</template>